ğŸ–¥ï¸ TERMINAL 1 â€” Backend (FastAPI)
1ï¸âƒ£ Abrir Terminal

Abre una ventana normal de Terminal.

2ï¸âƒ£ Ir a la carpeta del proyecto
cd ~/sms-parser-api

Comprueba que estÃ¡s en el sitio correcto:

ls

Debes ver al menos:

main.py

gastos.db

.venv

3ï¸âƒ£ Activar el entorno virtual
source .venv/bin/activate

âœ”ï¸ El prompt debe cambiar a algo asÃ­:

(.venv) pedroj@MacBook-Air-de-Pedro sms-parser-api %

Si no aparece (.venv), NO sigas.

4ï¸âƒ£ Arrancar el servidor
uvicorn main:app --reload --host 0.0.0.0 --port 8000

âœ”ï¸ ConfirmaciÃ³n correcta:

INFO:     Application startup complete.

ğŸ‘‰ NO cierres esta terminal. Esta es TERMINAL 1.

ğŸŒ TERMINAL 2 â€” Cloudflare Tunnel
5ï¸âƒ£ Abrir una SEGUNDA ventana de Terminal

No cierres la anterior.

6ï¸âƒ£ Arrancar el tÃºnel
cloudflared tunnel --url http://localhost:8000
7ï¸âƒ£ Copiar la URL pÃºblica

VerÃ¡s algo como:

https://xxxxx.trycloudflare.com

ğŸ‘‰ Copia esa URL exacta. ğŸ‘‰ NO cierres esta terminal. Esta es TERMINAL 2.

ğŸ“± Shortcut (iPhone)
8ï¸âƒ£ Actualizar la URL

En el Shortcut, usa:

https://xxxxx.trycloudflare.com/ingest

âš ï¸ La URL cambia cada vez que reinicias Cloudflare.

â–¶ï¸ Prueba final
9ï¸âƒ£ Ejecutar el Shortcut desde el iPhone

Mira TERMINAL 1:

[SAVED] ...

o

[DUPLICATE] ...

âœ”ï¸ Si ves eso, el sistema funciona correctamente.